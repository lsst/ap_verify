# Gen 3 pipeline for ap_verify
# This concatenates various lsst.verify metrics to an AP pipeline

instrument: lsst.obs.lsst.LsstCamImSim
description: Fully instrumented AP pipeline with fakes, specialized for LSSTCam-imSim
imports:
  - location: $AP_VERIFY_DIR/pipelines/ApVerifyWithFakes.yaml
    exclude:
      - processCcd
  - location: $AP_PIPE_DIR/pipelines/LsstCamImSim/ProcessCcd.yaml
  # Can't use $AP_PIPE_DIR/pipelines/LsstCamImSim/ApPipeWithFakes.yaml here
  # because the changes made by that file and ../ApVerifyWithFakes.yaml are
  # hard to separate.

tasks:
  rbClassify:
    class: lsst.meas.transiNet.TransiNetTask
    config:
    config:
      modelPackageName: 'rbResnet50-DC2'
      connections.coaddName: parameters.coaddName

